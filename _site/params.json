{"name":"PodioKit","tagline":"PodioKit is the Objective-C client library for the Podio API.","body":"# PodioKit \r\n\r\n[![Build Status](https://travis-ci.org/podio/podio-objc.png?branch=2.0-develop)](https://travis-ci.org/podio/podio-objc)\r\n\r\nPodioKit is a Objective-C client library for the [Podio API](https://developers.podio.com/). It provides an easy way to integrate your iOS and Mac apps with Podio.\r\n\r\nPodioKit uses ARC and supports iOS 6.0 or above and Mac OS X 10.8 and above. It depends on AFNetworking 2.x for the HTTP communication with the Podio API.\r\n\r\nPodioKit 2.0 is currently in beta and is being actively developed. To use the latest stable version, use one of the official 1.x [releases](https://github.com/podio/podio-objc/releases).\r\n\r\n## Integrate with an existing project\r\n\r\nWe encourage you to use [CocoaPods](http://cocoapods.org/) to integrate PodioKit with your existing project. CocoaPods is a dependency manager for Objective-C that makes dealing with dependencies a breeze.\r\n\r\nFirst, make sure your have integrated CocoaPods with your project. If you do not, there is a great guide available [here](http://guides.cocoapods.org/using/getting-started.html).\r\n\r\nOnce CocoaPods is installed, add the following line to your `Podfile`:\r\n\r\n```ruby\r\npod 'PodioKit', '~> 2.0.0-beta'\r\n```\r\n\t\r\nThen run `pod install` from the command line.\r\n\r\nTo use the latest changes from the master branch, provide the repo URL instead of the version in the Podfile like:\r\n\r\n```ruby\r\npod 'PodioKit', :git => 'https://github.com/podio/podio-objc.git'\r\n```\r\n\r\nAfter that you are ready to start using PodioKit by importing the main header file where you would like to use it in your project:\r\n\r\n```objective-c\r\n#import <PodioKit/PodioKit.h>\r\n```\r\n\r\nOptionally, you can use PodioKit as a framework directly by copying the source files directly into your Xcode project.\r\n\r\n## Using PodioKit\r\n\r\n### Set up your API key and secret\r\n\r\nBefore you can talk to the Podio API, you need to generate a new API key for your application from your \"Account Settings\" page on Podio. You can find instructions on how to do so [here](https://developers.podio.com/api-key).\r\n\r\nOnce you have a key and secret, you need to configure PodioKit to use it. To do so, add the following code to your `application:didFinishLaunching:options:` method in your app delegate:\r\n\r\n```objective-c\r\n[PodioKit setupWithAPIKey:@\"my-api-key\" secret:@\"my-secret\"];\r\n```\r\n\t\r\nThat's it! You are now good to start using PodioKit.\r\n\r\n### Authentication\r\n\r\nThe Podio API supports multiple ways of authenticating a client. PodioKit provides three primary options:\r\n\r\n* Authenticate with user/password\r\n* Authenticate as an app\r\n* Automatically authenticate as an app\r\n\r\nEach of them are described below. The client is considered to be authenticated once it has obtained a valid OAuth2 token. You can easily check if the client is authenticated:\r\n\r\n```objective-c\r\nif ([PodioKit isAuthenticated]) {\r\n  // The client is authenticated\r\n}\r\n```\r\n\r\nWhenver the the authentication state changes, the `PKTClientAuthenticationStateDidChangeNotification` notification is posted. This can be useful to observe for changing the state of your UI or show a login screen.\r\n\r\nFor more details about authentication and the Podio API, more information can be found [here](https://developers.podio.com/authentication).\r\n\r\n#### Authenticate as a user\r\n\r\nThis option is great when you want to have every user of your client app to log in using their own Podio account and as such have access to the content of their entire Podio account.\r\n\r\nHere is how to authenticate as a user:\r\n\r\n```objective-c\r\n[PodioKit authenticateAsUserWithEmail:@\"myname@mydomain.com\" password:@\"p4$$w0rD\" completion:^(PKTResponse *response, NSError *error) {\r\n\tif (!error) {\r\n\t\t// Successfully authenticated\r\n\t} else {\r\n\t\t// Failed to authenticate, double check your credentials\r\n\t}\r\n}];\r\n```\r\n\r\n#### Authenticate as an app\r\n\r\nMost people know that you can log into Podio using an email and password. But it is also possible for any individual Podio app to authenticate as itself using it's unique app token. The client will then be able to create new items within that app, without ever being authenticated as a user.\r\n\r\nThis option is useful when you want any user of your client app to interact with the same [Podio app](https://developers.podio.com/doc/applications), regardless of who they are. This might be an app that you our someone else created.\r\n\r\nThe major benefit of this method is that it requires no log in action for the user of your app, as they will be authenticated as the Podio app itself.\r\n\r\nTo authenticate as the app, you need to find the app ID and token for your app. When logged into Podio, navigate to the app and click the small wrench icon in the top right. Then click \"Developer\" in the drop down menu that appears. That should take you to a page showing your app's ID and token.\r\n\r\nHere is an example of how to authenticate as an app:\r\n\r\n```objective-c\r\n[PodioKit authenticateAsAppWithID:123456 token:@\"my-app-token\" completion:^(PKTResponse *response, NSError *error) {\r\n\tif (!error) {\r\n\t\t// Successfully authenticated\r\n\t} else {\r\n\t\t// Failed to authenticate, double check your credentials\r\n\t}\r\n}];\r\n```\r\n\r\n#### Automatically authenticate as an app\r\n\r\nInstead of explicitly authenticating as an app as shown in the example above, there is also an option to automatically authenticate as an app. This means that instead of choosing yourself when to authenticate the app, you simply provide PodioKit with the app ID and token and it will automatatically handle the authentication step when you try to make an API operation. This is usually the prefereable option as it means you do not have to handle the authentication step yourself. To authenticate automatically, just make the following call after setting up your API key and secret:\r\n\r\n```objective-c\r\n[PodioKit authenticateAutomaticallyAsAppWithID:123456 token:@\"my-app-token\"];\r\n```\r\n\r\n### Fetching items\r\n\r\n[Apps](https://developers.podio.com/doc/applications) and [items](https://developers.podio.com/doc/items) are the corner stones of the Podio platform. An app is a container of multiple items. You can think of an app as a set of fields of different types, like the columns in a spreadsheet. The items in that app are then equivalent to the rows in the spreadsheet, i.e. the entires with one or more values for each field.\r\n\r\nThere are mupltiple types of fields in an app. A field supports a single or multiple values depending on its type. The available field types and their supported values are:\r\n\r\n* **Text**: Single value of `NSString`\r\n* **Category**: Multiple values of `PKTCategoryOption`\r\n* **Date**: Single value of `PKTDateRange`\r\n* **Relationship**: Multiple values of `PKTItem`\r\n* **Contact**: Multiple value of `PKTProfile`\r\n* **Number**: Single value of `NSNumber`\r\n* **Link**: Single value of `PKTEmbed`\r\n* **Image**: Multiple values of `PKTFile`\r\n* **Money**: Single value of `PKTMoney`\r\n* **Progress**: Single value of `NSNumber` (value between 0-100)\r\n* **Calculation**: Single value of `NSDictionary` (read-only)\r\n* **Map**: Single value of `NSString`\r\n* **Duration**: Single value of `PKTDuration`\r\n\r\nTo fetch an item, use the class method on `PKTItem`:\r\n\r\n```objective-c\r\n[PKTItem fetchItemWithID:1234 completion:^(PKTItem *item, NSError *error) {\r\n  if (!error) {\r\n    NSLog(@\"Fetched item with ID: %@\", @(item.itemID));\r\n  }\r\n}];\r\n```\r\n\r\nTo fetch a list of items in an app, there is another handy method on `PKTItem`:\r\n\r\n```objective-c\r\n[PKTItem fetchItemsInAppWithID:1234 offset:0 limit:30 completion:^(NSArray *items, NSUInteger filteredCount, NSUInteger totalCount, NSError *error) {\r\n  if (!error) {\r\n    NSLog(@\"Fetched %@ items out of a total of @%\", @(filteredCount), @(totalCount));\r\n  }\r\n}];\r\n```\r\n\r\nTo access the values of an item, you can either use the `-valueForField:(NSString *)externalID` method on `PKTItem`, or use subscripting directly:\r\n\r\n```objective-c\r\nPKTItem *item = ...\r\n\r\nPKTMoney *amount = item[@\"amount\"];\r\n// Is equivalient to\r\nPKTMoney *amount2 = [item valueForField:@\"amount\"];\r\n```\r\n\r\nThe same works for updating field values:\r\n\r\n```objective-c\r\nPKTItem *item = ...\r\n\r\nPKTMoney *amount = [PKTMoney alloc] initWithAmount:@123 currency:@\"USD\"];\r\n\r\nitem[@\"amount\"] = amount;\r\n// Is equivalient to:\r\n[item setValue:amount forField:@\"amount\"];\r\n```\r\n\r\n### Create a new item\r\n\r\nTo create an item, simply use the class methods on `PKTItem`:\r\n\r\n```objective-c\r\nPKTItem *item = [PKTItem itemForAppWithID:1234];\r\nitem[@\"title\"] = @\"My first item\";\r\nitem[@\"description\"] = @\"This is my first item of many.\";\r\n\r\n[item saveWithCompletion:^(PKTResponse *response, NSError *error) {\r\n  if (!error) {\r\n    NSLog(@\"Item saved with ID: %@\", @(item.itemID));\r\n  } else {\r\n    // Handle error...\r\n  }\r\n}];\r\n```\r\n\r\n### Upload a file\r\n\r\nYou can easily upload a file to Podio to attach to an item or comment. To do so, just use the upload methods provided by the `PKTFile` class. Here is an example on how you can upload a UIImage instance as a JPEG to Podio on iOS:\r\n\r\n```objective-c\r\nUIImage *image = [UIImage imageNamed:@\"some-image.jpg\"];\r\nNSData *data = UIImageJPEGRepresentation(image, 0.8f);\r\n\r\n[PKTFile uploadWithData:data fileName:@\"image.jpg\" mimeType:@\"image/jpeg\" completion:^(PKTFile *file, NSError *error) {\r\n  if (!error) {\r\n    NSLog(@\"File uploaded with ID: %@\", @(file.fileID));\r\n  }\r\n}];\r\n```\r\n\r\nTo add a file to an item, use the `addFile:` method on `PKTItem`:\r\n\r\n```objective-c\r\nPKTItem *item = ...\r\nPKTFile *file = ...\r\n\r\n[item addFile:file];\r\n\r\n[item saveWithCompletion:^(PKTResponse *response, NSError *error){\r\n  // Item saved with the file added\r\n}];\r\n```\r\n\r\nYou can also attach a file to any object by supplying its reference type and ID:\r\n\r\n```objective-c\r\nPKTFile *file = ...\r\n[file attachWithReferenceID:1234 referenceType:PKTReferenceTypeItem completion:^(PKTResponse *response, NSError *error) {\r\n  if (!error) {\r\n    // File successfully attached to item with ID 1234\r\n  }\r\n}];\r\n```\r\n\r\n### Add a comment\r\n\r\nPodio supports commenting on many things including items, tasks, status posts etc. To add a new comment, use the methods provided by the `PKTComment` class:\r\n\r\n```objective-c\r\n[PKTComment addCommentForObjectWithText:@\"My insightful comment\" referenceID:1234 referenceType:PKTReferenceTypeItem completion:^(PKTComment *comment, NSError *error) {\r\n  if (!error) {\r\n    NSLog(@\"Comment posted with ID: %@\", @(comment.commentID));\r\n  }\r\n}];\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}