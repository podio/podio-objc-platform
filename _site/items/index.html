<!doctype html>
<html>
  <head>
    <link href="/favicon.ico" rel="shortcut icon" sizes="16x16 32x32 64x64" />
    <title>Podio Platform Kit â€¢ The Objective-C SDK for Podio Platform</title>
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
    <div class="wrapper">
      <header>
        <nav>
          <ul>
            <li class=""><a href="/">Getting started</a></li>
            <li class=""><a href="/async">Basic principles of asynchronicity</a></li>
            <li class=""><a href="/authentication">Authentication &amp; session management</a></li>
            <li class=""><a href="/storage">Local storage  &amp; caching</a></li>
            <li class=""><a href="/push">Push</a></li>
            <li class=""><a href="/items">Working with apps &amp; items</a></li>
            <li class=""><a href="/fields">Item field examples</a></li>
            <li class=""><a href="/files">Working with files</a></li>
            <li class=""><a href="/comments">Working with comments</a></li>
            <li class=""><a href="/debug">Debugging &amp; errors</a></li>
          </ul>
        </nav>
        <p>You have found Podio Platform Kit, the official Objective-C SDK for <a href="https://platform.podio.com/">Podio Platform</a>. It works with both iOS and Mac OS X.</p>
        <p>
          <a href="https://travis-ci.org/podio/podio-objc-platform"><img src="https://travis-ci.org/podio/podio-objc.png?branch=master" alt="Build Status"></a>
        </p>
        <p>For help post on <a href="http://stackoverflow.com/questions/tagged/podio">Stack Overflow</a> and tag with <b>podio</b>. For bugs <a href="https://github.com/podio/podio-objc-platform/issues">create an issue on GitHub</a>.</p>
        <ul class="buttons">
          <li><a class="download" href="https://github.com/podio/podio-objc-platform/releases">Download</a></li>
          <li><a class="github" href="https://github.com/podio/podio-objc-platform">GitHub</a></li>
        </ul>
      </header>
      <main>
        <h1 id="working-with-apps--items">Working with Apps &amp; Items</h1>

<h2 id="fetching-items">Fetching items</h2>

<p><a href="https://developers.podio.com/doc/applications">Apps</a> and <a href="https://developers.podio.com/doc/items">items</a> are the corner stones of the Podio platform. An app is a container of multiple items. You can think of an app as a set of fields of different types, like the columns in a spreadsheet. The items in that app are then equivalent to the rows in the spreadsheet, i.e. the entires with one or more values for each field.</p>

<p>There are mupltiple types of fields in an app. A field supports a single or multiple values depending on its type. The available field types and their supported values are:</p>

<ul>
  <li><strong>Text</strong>: Single value of <code>NSString</code></li>
  <li><strong>Category</strong>: Multiple values of <code>NSNumber</code> (the option ID) or <code>PKCCategoryOption</code></li>
  <li><strong>Date</strong>: Single value of <code>PKCDateRange</code> or an <code>NSDate</code> representing the start date and time</li>
  <li><strong>Relationship</strong>: Multiple values of <code>PKCItem</code></li>
  <li><strong>Contact</strong>: Multiple value of <code>PKCProfile</code></li>
  <li><strong>Number</strong>: Single value of <code>NSNumber</code></li>
  <li><strong>Link</strong>: Single value of <code>PKCEmbed</code></li>
  <li><strong>Image</strong>: Multiple values of <code>PKCFile</code></li>
  <li><strong>Money</strong>: Single value of <code>PKCMoney</code></li>
  <li><strong>Progress</strong>: Single value of <code>NSNumber</code> (value between 0-100)</li>
  <li><strong>Calculation</strong>: Single value of <code>NSDictionary</code> (read-only)</li>
  <li><strong>Map</strong>: Single value of <code>NSString</code></li>
  <li><strong>Duration</strong>: Single value of <code>PKCDuration</code></li>
</ul>

<p>To fetch an item, use the class method on <code>PKCItem</code>:</p>

<div class="highlight"><pre><code class="objective-c"><span class="p">[[</span><span class="n">PKCItem</span> <span class="n">fetchItemWithID</span><span class="o">:</span><span class="mi">1234</span><span class="p">]</span> <span class="n">onComplete</span><span class="o">:^</span><span class="p">(</span><span class="n">PKCItem</span> <span class="o">*</span><span class="n">item</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Fetched item with ID: %@&quot;</span><span class="p">,</span> <span class="p">@(</span><span class="n">item</span><span class="p">.</span><span class="n">itemID</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}];</span>
</code></pre></div>

<p>To fetch a list of items in an app, there is another handy method on <code>PKCItem</code>:</p>

<div class="highlight"><pre><code class="objective-c"><span class="p">[[</span><span class="n">PKCItem</span> <span class="n">fetchItemsInAppWithID</span><span class="o">:</span><span class="mi">1234</span> <span class="n">offset</span><span class="o">:</span><span class="mi">0</span> <span class="n">limit</span><span class="o">:</span><span class="mi">30</span><span class="p">]</span> <span class="n">onComplete</span><span class="o">:^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">items</span><span class="p">,</span> <span class="n">NSUInteger</span> <span class="n">filteredCount</span><span class="p">,</span> <span class="n">NSUInteger</span> <span class="n">totalCount</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Fetched %@ items out of a total of @%&quot;</span><span class="p">,</span> <span class="p">@(</span><span class="n">filteredCount</span><span class="p">),</span> <span class="p">@(</span><span class="n">totalCount</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}];</span>
</code></pre></div>

<p>To access the values of an item, you can either use the <code>-valueForField:(NSString *)externalID</code> method on <code>PKCItem</code>, or use subscripting directly:</p>

<div class="highlight"><pre><code class="objective-c"><span class="n">PKCItem</span> <span class="o">*</span><span class="n">item</span> <span class="o">=</span> <span class="p">...</span>

<span class="n">PKCMoney</span> <span class="o">*</span><span class="n">amount</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s">@&quot;amount&quot;</span><span class="p">];</span>
<span class="c1">// Is equivalient to</span>
<span class="n">PKCMoney</span> <span class="o">*</span><span class="n">amount2</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="n">valueForField</span><span class="o">:</span><span class="s">@&quot;amount&quot;</span><span class="p">];</span>
</code></pre></div>

<p>The same works for updating field values:</p>

<div class="highlight"><pre><code class="objective-c"><span class="n">PKCItem</span> <span class="o">*</span><span class="n">item</span> <span class="o">=</span> <span class="p">...</span>

<span class="n">PKCMoney</span> <span class="o">*</span><span class="n">amount</span> <span class="o">=</span> <span class="p">[</span><span class="n">PKCMoney</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">initWithAmount</span><span class="o">:</span><span class="mi">@123</span> <span class="n">currency</span><span class="o">:</span><span class="s">@&quot;USD&quot;</span><span class="p">];</span>

<span class="n">item</span><span class="p">[</span><span class="s">@&quot;amount&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">amount</span><span class="p">;</span>
<span class="c1">// Is equivalient to:</span>
<span class="p">[</span><span class="n">item</span> <span class="n">setValue</span><span class="o">:</span><span class="n">amount</span> <span class="n">forField</span><span class="o">:</span><span class="s">@&quot;amount&quot;</span><span class="p">];</span>
</code></pre></div>

<h2 id="creating-a-new-item">Creating a new item</h2>

<p>To create an item, simply use the class methods on <code>PKCItem</code>:</p>

<div class="highlight"><pre><code class="objective-c"><span class="n">PKCItem</span> <span class="o">*</span><span class="n">item</span> <span class="o">=</span> <span class="p">[</span><span class="n">PKCItem</span> <span class="n">itemForAppWithID</span><span class="o">:</span><span class="mi">1234</span><span class="p">];</span>
<span class="n">item</span><span class="p">[</span><span class="s">@&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">@&quot;My first item&quot;</span><span class="p">;</span>
<span class="n">item</span><span class="p">[</span><span class="s">@&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">@&quot;This is my first item of many.&quot;</span><span class="p">;</span>

<span class="p">[[</span><span class="n">item</span> <span class="n">save</span><span class="p">]</span> <span class="n">onComplete</span><span class="o">:^</span><span class="p">(</span><span class="n">PKCResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Item saved with ID: %@&quot;</span><span class="p">,</span> <span class="p">@(</span><span class="n">item</span><span class="p">.</span><span class="n">itemID</span><span class="p">));</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Handle error...</span>
  <span class="p">}</span>
<span class="p">}];</span>
</code></pre></div>

<h2 id="updating-an-existing-item">Updating an existing item</h2>

<p>To update an item, use the same <code>save</code> method as described in <em>Creating a new item</em> above. PodioPlatformKit will know if the item already exists and needs to be created, or if it should only be updated.</p>

      </main>
    </div>
  </body>
</html>
